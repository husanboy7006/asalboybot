<!doctype html>
<html lang="uz">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Asalboy Premium</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="style.css?v=4" />
</head>

<body>
  <div id="app">
    <header>
      <h1>ASALBOY</h1>
      <div id="cartBtn" onclick="toggleCart()">
        ğŸ›’ <span id="cartCount">0</span>
      </div>
    </header>

    <nav id="tabs">
      <button class="tab active" data-cat="all">ğŸ§º Barchasi</button>
      <button class="tab" data-cat="tog">â›°ï¸ Tog'</button>
      <button class="tab" data-cat="akatsiya">ğŸŒ¿ Akatsiya</button>
      <button class="tab" data-cat="boshqa">ğŸ¯ Boshqa</button>
    </nav>

    <section id="grid" class="grid">
      <!-- Products will be injected here -->
    </section>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Savatcha <span id="modalCartCount">(0)</span></h2>
          <span class="close-btn" onclick="toggleCart()">âŒ</span>
        </div>

        <div id="cartItems" class="cart-items">
          <!-- Items will be injected here -->
        </div>

        <div class="cart-summary">
          <div class="row">
            <span>Jami:</span>
            <span id="cartTotal">0 so'm</span>
          </div>
        </div>

        <div class="order-form">
          <h3>Ma'lumotlaringiz</h3>
          <input id="name" placeholder="Ismingiz" required />
          <input id="phone" placeholder="Telefon (+998...)" type="tel" required />
          <div class="loc-row">
            <input id="address" placeholder="Manzil (mo'ljal)" required />
            <button type="button" id="locBtn" class="loc-btn" onclick="getLocation()">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="10" r="3" />
                <path
                  d="M12 2a8 8 0 0 0-8 8c0 5.4 7 11.5 7.3 11.8a1 1 0 0 0 1.4 0C13 21.5 20 15.4 20 10a8 8 0 0 0-8-8z" />
              </svg>
            </button>
          </div>
        </div>

        <button id="confirmOrder" onclick="submitOrder()">âœ… Buyurtmani tasdiqlash</button>
      </div>
    </div>

    <!-- Main Footer Button (Floating) -->
    <div id="mainFooter" class="main-footer" onclick="toggleCart()">
      <button>Savatchani ko'rish (<span id="footerCount">0</span>)</button>
    </div>
  </div>

  <script src="script.js?v=6"></script>
</body>

</html>